<h1 class="page-header">Login</h1>

<div class="row show-hide-message">
  <!--
  <div *ngIf="message" class="alert alert-danger">
  -->
  <div [ngClass]="messageClass">
    {{message}}
  </div>
</div>

<div class="container">
  <form [formGroup]="form" (submit)="onLoginSubmit()">
    <div class="form-group">
      <label for="username">Username</label>
      <div [class.label-has-error]="(form.controls.username.errors && form.controls.username.dirty) ||
      (!form.controls.username.valid && form.controls.username.dirty)"
           [class.label-has-success]="!form.controls.username.errors && form.controls.username.valid">
        <input type="text" name="username" class="form-control" autocomplete="off" placeholder="*Username" formControlName="username">
        <ul class="help-block">
          <li *ngIf="form.controls.username.errors?.required && form.controls.username.dirty">This field is required.</li>
          <li *ngIf="username.Message">{{usernameMessage}}</li>
        </ul>
      </div>
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <div [ngClass]="{'has-error':(form.controls.password.errors && form.controls.password.dirty), 'has-success':!form.controls.password.errors}">
        <input type="password" name="password" class="form-control" autocomplete="off" placeholder="*Password" formControlName="password">
        <ul class="help-block">
          <li *ngIf="form.controls.password.errors?.required && form.controls.password.dirty">This field is required.</li>
        </ul>
      </div>
    </div>

    <input [disabled]="!form.valid || processing" type="submit" class="btn btn-lg btn-success form-group" value="Login">
  </form>
</div>
